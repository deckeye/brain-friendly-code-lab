---
layout: default
title: UIè¨­è¨ˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ï¼šã‚¨ãƒ©ãƒ¼é˜²æ­¢ã¨ãƒªã‚«ãƒãƒªãƒ¼
---
{% raw %}

# UIè¨­è¨ˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ï¼šã‚¨ãƒ©ãƒ¼é˜²æ­¢ã¨ãƒªã‚«ãƒãƒªãƒ¼

> **ä½œæˆæ—¥**: 2025å¹´12æœˆ25æ—¥  
> **ç›®çš„**: å…¥åŠ›ãƒŸã‚¹ãŒå‡ºã¥ã‚‰ãã€ãƒŸã‚¹ã‚’ã—ã¦ã‚‚ãƒªã‚«ãƒãƒªãƒ¼ã—ã‚„ã™ã„UIè¨­è¨ˆã®å‚è€ƒè³‡æ–™  
> **å¯¾è±¡**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºè€…ã€UI/UXãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼

---

## ç›®æ¬¡

1. [æ¦‚è¦](#æ¦‚è¦)
2. [èªçŸ¥è² è·ã‚’è»½æ¸›ã™ã‚‹è¨­è¨ˆåŸå‰‡](#èªçŸ¥è² è·ã‚’è»½æ¸›ã™ã‚‹è¨­è¨ˆåŸå‰‡)
3. [å…¥åŠ›ãƒŸã‚¹é˜²æ­¢ã®åŸå‰‡](#å…¥åŠ›ãƒŸã‚¹é˜²æ­¢ã®åŸå‰‡)
4. [ãƒªã‚«ãƒãƒªãƒ¼ã—ã‚„ã™ã„è¨­è¨ˆ](#ãƒªã‚«ãƒãƒªãƒ¼ã—ã‚„ã™ã„è¨­è¨ˆ)
5. [å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³é›†](#å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³é›†)
6. [å®Ÿéš›ã®ã‚µãƒ¼ãƒ“ã‚¹äº‹ä¾‹](#å®Ÿéš›ã®ã‚µãƒ¼ãƒ“ã‚¹äº‹ä¾‹)
7. [ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ](#ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ)

---

## æ¦‚è¦

### ãªãœã‚¨ãƒ©ãƒ¼é˜²æ­¢ã¨ãƒªã‚«ãƒãƒªãƒ¼ãŒé‡è¦ã‹

- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Š**: ã‚¹ãƒˆãƒ¬ã‚¹ã®ãªã„å…¥åŠ›ä½“é¨“ã‚’æä¾›
- **æ¥­å‹™åŠ¹ç‡åŒ–**: ä¿®æ­£ä½œæ¥­ã‚„ã‚µãƒãƒ¼ãƒˆå¯¾å¿œã®å‰Šæ¸›
- **ãƒ‡ãƒ¼ã‚¿å“è³ªã®å‘ä¸Š**: æ­£ç¢ºãªãƒ‡ãƒ¼ã‚¿å…¥åŠ›ã‚’ä¿ƒé€²
- **é›¢è„±ç‡ã®ä½ä¸‹**: ã‚¨ãƒ©ãƒ¼ã«ã‚ˆã‚‹ãƒ•ã‚©ãƒ¼ãƒ é›¢è„±ã‚’é˜²æ­¢

### è¨­è¨ˆã®åŸºæœ¬æ–¹é‡

1. **ã‚¨ãƒ©ãƒ¼ã‚’èµ·ã“ã•ã›ãªã„** - ãƒŸã‚¹ãŒç™ºç”Ÿã—ã«ãã„è¨­è¨ˆ
2. **ã‚¨ãƒ©ãƒ¼ã‚’æ—©æœŸç™ºè¦‹** - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
3. **ã‚¨ãƒ©ãƒ¼ã‹ã‚‰è¿…é€Ÿã«å›å¾©** - ç°¡å˜ã«ä¿®æ­£ãƒ»å¾©å…ƒã§ãã‚‹ä»•çµ„ã¿
4. **èªçŸ¥è² è·ã‚’æœ€å°åŒ–** - æƒ…å ±ã‚’è¨˜æ†¶ã—ãªãã¦ã‚‚ä½¿ãˆã‚‹UI

---

## èªçŸ¥è² è·ã‚’è»½æ¸›ã™ã‚‹è¨­è¨ˆåŸå‰‡

### ãªãœèªçŸ¥è² è·ã®è»½æ¸›ãŒé‡è¦ã‹

å¤šãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªçŠ¶æ³ã§ä½œæ¥­ã‚’è¡Œã„ã¾ã™ï¼š
- **ãƒãƒ«ãƒã‚¿ã‚¹ã‚¯ç’°å¢ƒ**: è¤‡æ•°ã®ä½œæ¥­ã‚’ä¸¦è¡Œã—ã¦å‡¦ç†
- **æ™‚é–“çš„åˆ¶ç´„**: æ€¥ã„ã§ä½œæ¥­ã‚’å®Œäº†ã•ã›ã‚‹å¿…è¦ãŒã‚ã‚‹
- **æƒ…å ±éå¤š**: è¦šãˆã¦ãŠãã¹ãæƒ…å ±ãŒå¤šã„
- **ä¸­æ–­ã¨å†é–‹**: ä½œæ¥­ãŒé »ç¹ã«ä¸­æ–­ã•ã‚Œã‚‹

ã“ã®ã‚ˆã†ãªçŠ¶æ³ã§ã¯ã€çŸ­æœŸè¨˜æ†¶ï¼ˆãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ¡ãƒ¢ãƒªãƒ¼ï¼‰ã¸ã®è² è·ã‚’æ¸›ã‚‰ã—ã€é›†ä¸­åŠ›ã‚’ç¶­æŒã—ã‚„ã™ã„UIãŒä¸å¯æ¬ ã§ã™ã€‚

### åŸºæœ¬åŸå‰‡

1. **æƒ…å ±ã‚’è¨˜æ†¶ã•ã›ãªã„** - è¦‹ã‚Œã°åˆ†ã‹ã‚‹UIã«ã™ã‚‹
2. **ä¸€åº¦ã«1ã¤ã®ã“ã¨ã«é›†ä¸­** - æ®µéšçš„ãªæƒ…å ±æç¤º
3. **ä¸­æ–­ã«å¼·ã„è¨­è¨ˆ** - ä½œæ¥­å†é–‹ãŒå®¹æ˜“
4. **è¦–è¦šçš„ãªæ‰‹ãŒã‹ã‚Š** - æ¬¡ã«ä½•ã‚’ã™ã¹ãã‹ãŒæ˜ç¢º

---

### 1. æƒ…å ±ã®æ®µéšçš„é–‹ç¤ºï¼ˆProgressive Disclosureï¼‰

#### æ¦‚è¦
ä¸€åº¦ã«è¡¨ç¤ºã™ã‚‹æƒ…å ±é‡ã‚’æœ€å°é™ã«ã—ã€å¿…è¦ãªæ™‚ã«ã ã‘è©³ç´°ã‚’è¡¨ç¤ºã™ã‚‹ã€‚

#### å®Ÿè£…ä¾‹

```typescript
// åŸºæœ¬æƒ…å ±ã®ã¿è¡¨ç¤ºã€è©³ç´°ã¯å±•é–‹å¼
const ProgressiveDetailsCard = ({ item }) => {
  const [showDetails, setShowDetails] = useState(false);

  return (
    <div className="card">
      {/* å¿…é ˆæƒ…å ±ã®ã¿è¡¨ç¤º */}
      <div className="card-summary">
        <h3>{item.title}</h3>
        <p className="card-status">{item.status}</p>
      </div>

      {/* è©³ç´°æƒ…å ±ã¯å¿…è¦æ™‚ã®ã¿ */}
      <button 
        onClick={() => setShowDetails(!showDetails)}
        aria-expanded={showDetails}
      >
        {showDetails ? 'è©³ç´°ã‚’é–‰ã˜ã‚‹' : 'è©³ç´°ã‚’è¡¨ç¤º'}
      </button>

      {showDetails && (
        <div className="card-details">
          <p><strong>ä½œæˆæ—¥:</strong> {item.createdAt}</p>
          <p><strong>æ‹…å½“è€…:</strong> {item.assignee}</p>
          <p><strong>èª¬æ˜:</strong> {item.description}</p>
        </div>
      )}
    </div>
  );
};
```

#### CSSã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

```css
.card-details {
  animation: slideDown 0.3s ease-out;
  overflow: hidden;
}

@keyframes slideDown {
  from {
    max-height: 0;
    opacity: 0;
  }
  to {
    max-height: 500px;
    opacity: 1;
  }
}
```

---

### 2. ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæƒ…å ±ã®å¸¸æ™‚è¡¨ç¤º

#### æ¦‚è¦
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œä»Šã©ã“ã«ã„ã‚‹ã®ã‹ã€ã€Œä½•ã‚’ã—ã¦ã„ã‚‹ã®ã‹ã€ã‚’å¸¸ã«æ˜ç¤ºã™ã‚‹ã€‚

#### å®Ÿè£…ä¾‹

```typescript
// ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ + ç¾åœ¨ã®çŠ¶æ…‹è¡¨ç¤º
const ContextualHeader = ({ currentPage, breadcrumbs, taskProgress }) => {
  return (
    <header className="contextual-header">
      {/* ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ */}
      <nav aria-label="ãƒ‘ãƒ³ããš">
        <ol className="breadcrumbs">
          {breadcrumbs.map((crumb, index) => (
            <li key={index}>
              {index < breadcrumbs.length - 1 ? (
                <a href={crumb.url}>{crumb.label}</a>
              ) : (
                <span aria-current="page">{crumb.label}</span>
              )}
            </li>
          ))}
        </ol>
      </nav>

      {/* ç¾åœ¨ã®ã‚¿ã‚¹ã‚¯æƒ…å ± */}
      <div className="current-task">
        <h1>{currentPage.title}</h1>
        <p className="task-hint">{currentPage.description}</p>
      </div>

      {/* é€²æ—çŠ¶æ³ */}
      {taskProgress && (
        <div className="progress-context">
          <span>ã‚¹ãƒ†ãƒƒãƒ— {taskProgress.current} / {taskProgress.total}</span>
          <div className="progress-bar">
            <div 
              className="progress-fill" 
              style={{ width: `${(taskProgress.current / taskProgress.total) * 100}%` }}
            />
          </div>
        </div>
      )}
    </header>
  );
};
```

```css
.contextual-header {
  position: sticky;
  top: 0;
  background: white;
  border-bottom: 1px solid #e0e0e0;
  padding: 16px;
  z-index: 100;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.breadcrumbs {
  display: flex;
  gap: 8px;
  list-style: none;
  font-size: 0.875rem;
  color: #666;
}

.breadcrumbs li:not(:last-child)::after {
  content: 'â€º';
  margin-left: 8px;
  color: #999;
}

.task-hint {
  color: #666;
  font-size: 0.9rem;
  margin-top: 4px;
}
```

---

### 3. ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³èª¬æ˜ã¨ãƒ’ãƒ³ãƒˆ

#### æ¦‚è¦
å„é …ç›®ã®ç›®çš„ã‚„å…¥åŠ›æ–¹æ³•ã‚’ã€ãã®å ´ã§ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚

#### å®Ÿè£…ä¾‹

```typescript
const InputWithInlineHelp = ({ 
  label, 
  helpText, 
  placeholder, 
  example,
  ...props 
}) => {
  const [showHelp, setShowHelp] = useState(false);

  return (
    <div className="input-with-help">
      <div className="label-row">
        <label>{label}</label>
        <button
          type="button"
          className="help-toggle"
          onClick={() => setShowHelp(!showHelp)}
          aria-label="ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤º"
        >
          ?
        </button>
      </div>

      {/* å¸¸ã«è¡¨ç¤ºã•ã‚Œã‚‹ç°¡æ½”ãªãƒ’ãƒ³ãƒˆ */}
      {placeholder && (
        <input placeholder={placeholder} {...props} />
      )}

      {/* å±•é–‹å¼ã®è©³ç´°ãƒ˜ãƒ«ãƒ— */}
      {showHelp && (
        <div className="help-content" role="region">
          <p>{helpText}</p>
          {example && (
            <div className="help-example">
              <strong>å…¥åŠ›ä¾‹:</strong> {example}
            </div>
          )}
        </div>
      )}
    </div>
  );
};

// ä½¿ç”¨ä¾‹
<InputWithInlineHelp
  label="é›»è©±ç•ªå·"
  placeholder="090-1234-5678"
  helpText="ãƒã‚¤ãƒ•ãƒ³ã‚’å«ã‚ã¦å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚å›ºå®šé›»è©±ã®å ´åˆã¯å¸‚å¤–å±€ç•ªã‹ã‚‰å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚"
  example="03-1234-5678ï¼ˆæ±äº¬ã®å›ºå®šé›»è©±ï¼‰"
/>
```

```css
.label-row {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 4px;
}

.help-toggle {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  border: 1px solid #999;
  background: white;
  color: #666;
  font-size: 0.75rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.help-toggle:hover {
  background: #f0f0f0;
  border-color: #666;
}

.help-content {
  background: #f8f9fa;
  border-left: 3px solid #007bff;
  padding: 12px;
  margin-top: 8px;
  font-size: 0.875rem;
  line-height: 1.5;
}

.help-example {
  margin-top: 8px;
  padding: 8px;
  background: white;
  border-radius: 4px;
  font-family: monospace;
}
```

---

### 4. è¦–è¦šçš„ãªæ‰‹ãŒã‹ã‚Šã¨å¼·èª¿

#### æ¦‚è¦
æ¬¡ã«ä½•ã‚’ã™ã¹ãã‹ã‚’è¦–è¦šçš„ã«æ˜ç¢ºã«ã™ã‚‹ã€‚

#### å®Ÿè£…ä¾‹

```typescript
const FocusGuidedForm = () => {
  const [activeStep, setActiveStep] = useState(0);

  const steps = [
    { id: 'name', label: 'åå‰', completed: false },
    { id: 'email', label: 'ãƒ¡ãƒ¼ãƒ«', completed: false },
    { id: 'phone', label: 'é›»è©±ç•ªå·', completed: false },
  ];

  return (
    <form className="focus-guided-form">
      {steps.map((step, index) => (
        <div
          key={step.id}
          className={`form-step ${
            index === activeStep ? 'active' : ''
          } ${step.completed ? 'completed' : ''}`}
        >
          {/* ã‚¹ãƒ†ãƒƒãƒ—ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ */}
          <div className="step-indicator">
            {step.completed ? (
              <span className="check-icon">âœ“</span>
            ) : index === activeStep ? (
              <span className="current-step">â†’</span>
            ) : (
              <span className="pending-step">{index + 1}</span>
            )}
          </div>

          {/* ãƒ•ã‚©ãƒ¼ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ */}
          <div className="step-content">
            <label>{step.label}</label>
            <input
              id={step.id}
              autoFocus={index === activeStep}
              onBlur={() => {
                // å…¥åŠ›å®Œäº†å¾Œã€æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸
                if (index === activeStep) {
                  setActiveStep(index + 1);
                }
              }}
            />
          </div>
        </div>
      ))}
    </form>
  );
};
```

```css
.form-step {
  display: flex;
  gap: 16px;
  padding: 16px;
  margin-bottom: 8px;
  border: 2px solid transparent;
  border-radius: 8px;
  transition: all 0.3s ease;
  opacity: 0.5;
}

.form-step.active {
  opacity: 1;
  border-color: #007bff;
  background: #f0f7ff;
  box-shadow: 0 0 0 4px rgba(0, 123, 255, 0.1);
}

.form-step.completed {
  opacity: 0.7;
  background: #f8f9fa;
}

.step-indicator {
  flex-shrink: 0;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  font-weight: bold;
}

.form-step.active .step-indicator {
  background: #007bff;
  color: white;
  animation: pulse 2s infinite;
}

.form-step.completed .step-indicator {
  background: #28a745;
  color: white;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

.current-step {
  font-size: 1.5rem;
  animation: blink 1s infinite;
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}
```

---

### 5. ã‚¿ã‚¹ã‚¯ã®åˆ†å‰²ã¨å°ã•ãªã‚´ãƒ¼ãƒ«

#### æ¦‚è¦
å¤§ããªãƒ•ã‚©ãƒ¼ãƒ ã‚’å°ã•ãªã‚¹ãƒ†ãƒƒãƒ—ã«åˆ†å‰²ã—ã€é”æˆæ„Ÿã‚’ä¸ãˆã‚‹ã€‚

#### å®Ÿè£…ä¾‹

```typescript
const ChunkedForm = () => {
  const [currentChunk, setCurrentChunk] = useState(0);
  const [completedChunks, setCompletedChunks] = useState<number[]>([]);

  const chunks = [
    {
      title: 'åŸºæœ¬æƒ…å ±',
      description: 'ãŠåå‰ã¨ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
      fields: ['name', 'email'],
    },
    {
      title: 'é€£çµ¡å…ˆ',
      description: 'é›»è©±ç•ªå·ã¨ä½æ‰€ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
      fields: ['phone', 'address'],
    },
    {
      title: 'ç¢ºèª',
      description: 'å…¥åŠ›å†…å®¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„',
      fields: [],
    },
  ];

  const completeChunk = (chunkIndex: number) => {
    setCompletedChunks([...completedChunks, chunkIndex]);
    setCurrentChunk(chunkIndex + 1);
  };

  return (
    <div className="chunked-form">
      {/* å…¨ä½“ã®é€²æ— */}
      <div className="overall-progress">
        <h2>ç™»éŒ²ã¾ã§ ã‚ã¨{chunks.length - currentChunk}ã‚¹ãƒ†ãƒƒãƒ—</h2>
        <div className="progress-dots">
          {chunks.map((_, index) => (
            <div
              key={index}
              className={`dot ${
                completedChunks.includes(index) ? 'completed' :
                index === currentChunk ? 'active' : 'pending'
              }`}
            />
          ))}
        </div>
      </div>

      {/* ç¾åœ¨ã®ãƒãƒ£ãƒ³ã‚¯ */}
      <div className="current-chunk">
        <div className="chunk-header">
          <h3>{chunks[currentChunk].title}</h3>
          <p className="chunk-description">
            {chunks[currentChunk].description}
          </p>
        </div>

        {/* ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆå®Ÿè£…ã¯çœç•¥ï¼‰ */}
        <div className="chunk-fields">
          {/* ... */}
        </div>

        {/* æ¬¡ã¸ãƒœã‚¿ãƒ³ */}
        <button
          className="btn-next-chunk"
          onClick={() => completeChunk(currentChunk)}
        >
          {currentChunk === chunks.length - 1 ? 'å®Œäº†' : 'æ¬¡ã¸'}
        </button>
      </div>

      {/* åŠ±ã¾ã—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */}
      {completedChunks.length > 0 && (
        <div className="encouragement">
          ğŸ‰ {completedChunks.length}ã‚¹ãƒ†ãƒƒãƒ—å®Œäº†ã—ã¾ã—ãŸï¼
        </div>
      )}
    </div>
  );
};
```

```css
.overall-progress {
  text-align: center;
  padding: 24px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: 12px;
  margin-bottom: 24px;
}

.progress-dots {
  display: flex;
  justify-content: center;
  gap: 12px;
  margin-top: 16px;
}

.dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  transition: all 0.3s ease;
}

.dot.completed {
  background: #28a745;
  transform: scale(1.2);
}

.dot.active {
  background: white;
  transform: scale(1.5);
  box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.3);
}

.chunk-header {
  margin-bottom: 24px;
}

.chunk-description {
  color: #666;
  font-size: 0.95rem;
  margin-top: 8px;
}

.encouragement {
  background: #d4edda;
  border: 1px solid #c3e6cb;
  color: #155724;
  padding: 12px 16px;
  border-radius: 8px;
  text-align: center;
  margin-top: 16px;
  animation: slideIn 0.5s ease-out;
}

@keyframes slideIn {
  from {
    transform: translateY(-20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}
```

---

### 6. ä¸­æ–­ã‹ã‚‰ã®å¾©å¸°ã‚µãƒãƒ¼ãƒˆ

#### æ¦‚è¦
ä½œæ¥­ãŒä¸­æ–­ã•ã‚Œã¦ã‚‚ã€å®¹æ˜“ã«å†é–‹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚

#### å®Ÿè£…ä¾‹

```typescript
const ResumableForm = ({ formId }) => {
  const [formData, setFormData] = useState({});
  const [lastSaved, setLastSaved] = useState<Date | null>(null);
  const [sessionStart, setSessionStart] = useState<Date>(new Date());

  // å®šæœŸçš„ã«è‡ªå‹•ä¿å­˜
  useEffect(() => {
    const interval = setInterval(() => {
      saveToLocalStorage(formId, formData);
      setLastSaved(new Date());
    }, 30000); // 30ç§’ã”ã¨

    return () => clearInterval(interval);
  }, [formData, formId]);

  // ãƒšãƒ¼ã‚¸é›¢è„±æ™‚ã®è­¦å‘Š
  useEffect(() => {
    const handleBeforeUnload = (e: BeforeUnloadEvent) => {
      if (hasUnsavedChanges(formData)) {
        e.preventDefault();
        e.returnValue = '';
      }
    };

    window.addEventListener('beforeunload', handleBeforeUnload);
    return () => window.removeEventListener('beforeunload', handleBeforeUnload);
  }, [formData]);

  return (
    <div className="resumable-form">
      {/* ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ± */}
      <div className="session-info">
        <div className="info-item">
          <span className="info-label">ä½œæ¥­é–‹å§‹:</span>
          <span className="info-value">
            {formatTime(sessionStart)}
          </span>
        </div>
        {lastSaved && (
          <div className="info-item">
            <span className="info-label">æœ€çµ‚ä¿å­˜:</span>
            <span className="info-value">
              {getTimeAgo(lastSaved)} å‰
            </span>
          </div>
        )}
      </div>

      {/* å…¥åŠ›æ¸ˆã¿é …ç›®ã®ã‚µãƒãƒªãƒ¼ */}
      <div className="completion-summary">
        <h4>å…¥åŠ›çŠ¶æ³</h4>
        <div className="summary-items">
          {Object.entries(formData).map(([key, value]) => (
            value && (
              <div key={key} className="summary-item">
                <span className="check-mark">âœ“</span>
                <span>{getFieldLabel(key)}</span>
              </div>
            )
          ))}
        </div>
      </div>

      {/* ãƒ•ã‚©ãƒ¼ãƒ æœ¬ä½“ */}
      <form>
        {/* ... */}
      </form>
    </div>
  );
};
```

```css
.session-info {
  display: flex;
  gap: 24px;
  padding: 12px 16px;
  background: #f8f9fa;
  border-radius: 8px;
  margin-bottom: 16px;
  font-size: 0.875rem;
}

.info-item {
  display: flex;
  gap: 8px;
}

.info-label {
  color: #666;
}

.info-value {
  color: #333;
  font-weight: 500;
}

.completion-summary {
  background: #e7f3ff;
  border-left: 4px solid #007bff;
  padding: 16px;
  margin-bottom: 24px;
}

.summary-items {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 12px;
}

.summary-item {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 12px;
  background: white;
  border-radius: 16px;
  font-size: 0.875rem;
}

.check-mark {
  color: #28a745;
}
```

---

### 7. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¨ã‚¹ãƒãƒ¼ãƒˆå…¥åŠ›è£œå®Œ

#### æ¦‚è¦
å¯èƒ½ãªé™ã‚Šè‡ªå‹•å…¥åŠ›ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›é‡ã‚’æ¸›ã‚‰ã™ã€‚

#### å®Ÿè£…ä¾‹

```typescript
const SmartDefaultsForm = () => {
  const [formData, setFormData] = useState({
    country: 'JP', // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤
    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone, // è‡ªå‹•æ¤œå‡º
    language: navigator.language, // ãƒ–ãƒ©ã‚¦ã‚¶è¨€èª
  });

  // éƒµä¾¿ç•ªå·ã‹ã‚‰ä½æ‰€ã‚’è‡ªå‹•è£œå®Œ
  const handleZipCodeChange = async (zipCode: string) => {
    if (zipCode.length === 7) {
      const address = await fetchAddressFromZipCode(zipCode);
      setFormData({
        ...formData,
        zipCode,
        prefecture: address.prefecture,
        city: address.city,
        street: address.street,
      });
    }
  };

  // ãƒ¡ãƒ¼ãƒ«ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã‚µã‚¸ã‚§ã‚¹ãƒˆ
  const suggestEmailDomain = (partialEmail: string) => {
    const commonDomains = ['gmail.com', 'yahoo.co.jp', 'outlook.com'];
    const [localPart, domainPart] = partialEmail.split('@');
    
    if (domainPart && domainPart.length > 0) {
      return commonDomains.filter(domain => 
        domain.startsWith(domainPart)
      );
    }
    return [];
  };

  return (
    <form>
      {/* éƒµä¾¿ç•ªå·å…¥åŠ› â†’ ä½æ‰€è‡ªå‹•å…¥åŠ› */}
      <div className="form-group">
        <label>éƒµä¾¿ç•ªå·</label>
        <input
          type="text"
          value={formData.zipCode || ''}
          onChange={(e) => handleZipCodeChange(e.target.value)}
          placeholder="1234567"
        />
      </div>

      {/* è‡ªå‹•å…¥åŠ›ã•ã‚ŒãŸä½æ‰€ï¼ˆç·¨é›†å¯èƒ½ï¼‰ */}
      {formData.prefecture && (
        <div className="auto-filled-notice">
          <span className="auto-icon">âœ¨</span>
          ä½æ‰€ã‚’è‡ªå‹•å…¥åŠ›ã—ã¾ã—ãŸ
        </div>
      )}

      <div className="form-group">
        <label>éƒ½é“åºœçœŒ</label>
        <input
          type="text"
          value={formData.prefecture || ''}
          onChange={(e) => setFormData({...formData, prefecture: e.target.value})}
          disabled={!formData.prefecture}
        />
      </div>

      {/* ä»¥å‰ã®å…¥åŠ›å±¥æ­´ã‹ã‚‰ã‚µã‚¸ã‚§ã‚¹ãƒˆ */}
      <div className="form-group">
        <label>ã‚ˆãä½¿ã†é…é€å…ˆ</label>
        <datalist id="saved-addresses">
          {getSavedAddresses().map(addr => (
            <option key={addr.id} value={addr.fullAddress} />
          ))}
        </datalist>
        <input list="saved-addresses" />
      </div>
    </form>
  );
};
```

```css
.auto-filled-notice {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  background: #fff3cd;
  border: 1px solid #ffc107;
  border-radius: 6px;
  font-size: 0.875rem;
  color: #856404;
  margin-bottom: 16px;
}

.auto-icon {
  font-size: 1.2rem;
}

input:disabled {
  background: #f5f5f5;
  cursor: not-allowed;
}
```

---

### 8. è¦–è¦šçš„ãªæ•´ç†ã¨ç©ºç™½ã®æ´»ç”¨

#### æ¦‚è¦
æƒ…å ±ã‚’è¦–è¦šçš„ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã€èªçŸ¥è² è·ã‚’è»½æ¸›ã™ã‚‹ã€‚

#### å®Ÿè£…ä¾‹

```css
/* é–¢é€£é …ç›®ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ– */
.form-section {
  background: white;
  padding: 24px;
  border-radius: 12px;
  margin-bottom: 24px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

.form-section + .form-section {
  margin-top: 32px; /* ã‚»ã‚¯ã‚·ãƒ§ãƒ³é–“ã«ååˆ†ãªç©ºç™½ */
}

.form-section h2 {
  margin-bottom: 20px;
  padding-bottom: 12px;
  border-bottom: 2px solid #e0e0e0;
}

/* å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰é–“ã®é©åˆ‡ãªé–“éš” */
.form-field {
  margin-bottom: 20px;
}

.form-field:last-child {
  margin-bottom: 0;
}

/* é–¢é€£ã™ã‚‹é …ç›®ã‚’æ°´å¹³é…ç½® */
.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

/* é‡è¦ãªæƒ…å ±ã‚’è¦–è¦šçš„ã«å¼·èª¿ */
.form-field.important {
  padding: 16px;
  background: #fff8e1;
  border-left: 4px solid #ffa000;
  border-radius: 4px;
}

/* ã‚¢ã‚¤ã‚³ãƒ³ã§è¦–è¦šçš„ãªæ‰‹ãŒã‹ã‚Š */
.form-field label::before {
  content: '';
  display: inline-block;
  width: 20px;
  height: 20px;
  margin-right: 8px;
  background-size: contain;
  vertical-align: middle;
}

.form-field[data-type="email"] label::before {
  background-image: url('email-icon.svg');
}

.form-field[data-type="phone"] label::before {
  background-image: url('phone-icon.svg');
}
```

---

### 9. ã‚¨ãƒ©ãƒ¼é˜²æ­¢ã®ãŸã‚ã®äº‹å‰è­¦å‘Š

#### æ¦‚è¦
ãƒŸã‚¹ã‚’çŠ¯ã™å‰ã«å„ªã—ãè­¦å‘Šã‚’è¡¨ç¤ºã™ã‚‹ã€‚

#### å®Ÿè£…ä¾‹

```typescript
const PreventiveWarningInput = ({ value, onChange, rules }) => {
  const [warning, setWarning] = useState('');
  const [showWarning, setShowWarning] = useState(false);

  const checkForWarnings = (inputValue: string) => {
    // ã‚¨ãƒ©ãƒ¼ã§ã¯ãªã„ãŒã€æ³¨æ„ãŒå¿…è¦ãªçŠ¶æ³
    if (rules.includesEmail && !inputValue.includes('@')) {
      if (inputValue.length > 3) {
        setWarning('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ã¯ã€Œ@ã€ãŒå¿…è¦ã§ã™');
        setShowWarning(true);
      }
    }

    // å¤§æ–‡å­—å°æ–‡å­—ã®è­¦å‘Š
    if (rules.caseSensitive && /[A-Z]/.test(inputValue)) {
      setWarning('ã“ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯å¤§æ–‡å­—ã¨å°æ–‡å­—ã‚’åŒºåˆ¥ã—ã¾ã™');
      setShowWarning(true);
    }

    // å…¨è§’æ•°å­—ã®è­¦å‘Š
    if (rules.numericOnly && /[ï¼-ï¼™]/.test(inputValue)) {
      setWarning('åŠè§’æ•°å­—ã§å…¥åŠ›ã—ã¦ãã ã•ã„');
      setShowWarning(true);
    }
  };

  return (
    <div className="preventive-input">
      <input
        value={value}
        onChange={(e) => {
          onChange(e.target.value);
          checkForWarnings(e.target.value);
        }}
      />
      
      {showWarning && (
        <div className="soft-warning" role="status">
          <span className="warning-icon">ğŸ’¡</span>
          {warning}
        </div>
      )}
    </div>
  );
};
```

```css
.soft-warning {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  background: #fff9e6;
  border: 1px solid #ffe066;
  border-radius: 6px;
  font-size: 0.875rem;
  color: #8b6914;
  margin-top: 8px;
}

.warning-icon {
  font-size: 1.1rem;
}
```

---

### 10. ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼ã®è»½æ¸›

#### æ¦‚è¦
ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚„ã‚¿ã‚¤ãƒãƒ¼ã«ã‚ˆã‚‹ã‚¹ãƒˆãƒ¬ã‚¹ã‚’è»½æ¸›ã™ã‚‹ã€‚

#### å®Ÿè£…ä¾‹

```typescript
const SessionManager = ({ children }) => {
  const [timeRemaining, setTimeRemaining] = useState(30 * 60); // 30åˆ†
  const [showWarning, setShowWarning] = useState(false);

  useEffect(() => {
    const interval = setInterval(() => {
      setTimeRemaining(prev => {
        const newTime = prev - 1;
        
        // 5åˆ†å‰ã«è­¦å‘Š
        if (newTime === 5 * 60) {
          setShowWarning(true);
        }
        
        return newTime;
      });
    }, 1000);

    return () => clearInterval(interval);
  }, []);

  const extendSession = async () => {
    await api.extendSession();
    setTimeRemaining(30 * 60);
    setShowWarning(false);
  };

  return (
    <>
      {children}
      
      {/* ã‚»ãƒƒã‚·ãƒ§ãƒ³å»¶é•·ã®é€šçŸ¥ï¼ˆæŠ¼ã—ã¤ã‘ãŒã¾ã—ããªã„ï¼‰ */}
      {showWarning && (
        <div className="session-warning">
          <p>
            ã‚ã¨{Math.floor(timeRemaining / 60)}åˆ†ã§ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒåˆ‡ã‚Œã¾ã™ã€‚
            <br />
            ä½œæ¥­ã‚’ç¶šã‘ã‚‹å ´åˆã¯å»¶é•·ã—ã¦ãã ã•ã„ã€‚
          </p>
          <button onClick={extendSession}>
            ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å»¶é•·ï¼ˆ+30åˆ†ï¼‰
          </button>
          <small>
            â€» å…¥åŠ›å†…å®¹ã¯è‡ªå‹•ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ã®ã§å®‰å¿ƒã—ã¦ãã ã•ã„
          </small>
        </div>
      )}
    </>
  );
};
```

```css
.session-warning {
  position: fixed;
  bottom: 24px;
  right: 24px;
  max-width: 360px;
  padding: 20px;
  background: #fff3cd;
  border: 2px solid #ffc107;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  z-index: 1000;
  animation: slideUp 0.3s ease-out;
}

@keyframes slideUp {
  from {
    transform: translateY(100px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.session-warning button {
  margin-top: 12px;
  width: 100%;
  padding: 12px;
  background: #ffc107;
  border: none;
  border-radius: 6px;
  font-weight: bold;
  cursor: pointer;
}

.session-warning small {
  display: block;
  margin-top: 12px;
  color: #856404;
  text-align: center;
}
```

---

### èªçŸ¥è² è·è»½æ¸›ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

#### æƒ…å ±ã®æç¤º

- [ ] ä¸€åº¦ã«è¡¨ç¤ºã™ã‚‹æƒ…å ±ã¯æœ€å°é™ã«ã—ã¦ã„ã‚‹
- [ ] å¿…è¦ãªæƒ…å ±ã¯æ®µéšçš„ã«è¡¨ç¤ºã—ã¦ã„ã‚‹
- [ ] ç¾åœ¨ã®ä½ç½®ã‚„çŠ¶æ…‹ãŒå¸¸ã«æ˜ç¢º
- [ ] æ¬¡ã«ä½•ã‚’ã™ã¹ãã‹ãŒä¸€ç›®ã§åˆ†ã‹ã‚‹
- [ ] è¦–è¦šçš„ãªæ‰‹ãŒã‹ã‚ŠãŒè±Šå¯Œã«ã‚ã‚‹

#### è¨˜æ†¶ã¸ã®è² è·

- [ ] æƒ…å ±ã‚’è¦šãˆã¦ãŠãå¿…è¦ãŒãªã„
- [ ] ä»¥å‰ã®å…¥åŠ›å†…å®¹ãŒç¢ºèªã§ãã‚‹
- [ ] ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚„è‡ªå‹•å…¥åŠ›ã‚’æ´»ç”¨
- [ ] å‚ç…§æƒ…å ±ãŒå¸¸ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹
- [ ] ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆã§çµŒè·¯ãŒåˆ†ã‹ã‚‹

#### ä¸­æ–­ã¨å†é–‹

- [ ] è‡ªå‹•ä¿å­˜ãŒé »ç¹ã«è¡Œã‚ã‚Œã‚‹
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã®è­¦å‘ŠãŒã‚ã‚‹
- [ ] å…¥åŠ›æ¸ˆã¿é …ç›®ãŒä¸€ç›®ã§åˆ†ã‹ã‚‹
- [ ] é€”ä¸­ã‹ã‚‰å†é–‹ã—ã‚„ã™ã„
- [ ] ãƒšãƒ¼ã‚¸é›¢è„±æ™‚ã«è­¦å‘ŠãŒå‡ºã‚‹

#### ã‚¿ã‚¹ã‚¯ã®ç®¡ç†

- [ ] å¤§ããªã‚¿ã‚¹ã‚¯ãŒå°åˆ†ã‘ã•ã‚Œã¦ã„ã‚‹
- [ ] é€²æ—ãŒè¦–è¦šçš„ã«åˆ†ã‹ã‚‹
- [ ] å„ã‚¹ãƒ†ãƒƒãƒ—ã®ç›®çš„ãŒæ˜ç¢º
- [ ] é”æˆæ„Ÿã‚’å¾—ã‚‰ã‚Œã‚‹ä»•çµ„ã¿ãŒã‚ã‚‹
- [ ] æ®‹ã‚Šæ™‚é–“ã‚„ä½œæ¥­é‡ãŒè¦‹ãˆã‚‹

#### ã‚¨ãƒ©ãƒ¼ã¨æ··ä¹±ã®é˜²æ­¢

- [ ] ãƒŸã‚¹ã‚’çŠ¯ã™å‰ã«è­¦å‘ŠãŒã‚ã‚‹
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå…·ä½“çš„
- [ ] ä¿®æ­£æ–¹æ³•ãŒæ˜ç¤ºã•ã‚Œã¦ã„ã‚‹
- [ ] å…ƒã«æˆ»ã™æ“ä½œãŒç°¡å˜
- [ ] ç¢ºèªç”»é¢ã§æœ€çµ‚ãƒã‚§ãƒƒã‚¯ã§ãã‚‹

---

## å…¥åŠ›ãƒŸã‚¹é˜²æ­¢ã®åŸå‰‡

### 1. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

#### æ¦‚è¦
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›ä¸­ã¾ãŸã¯å…¥åŠ›ç›´å¾Œã«ã€ãƒ‡ãƒ¼ã‚¿ã®å¦¥å½“æ€§ã‚’å³åº§ã«ãƒã‚§ãƒƒã‚¯ã—ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’æä¾›ã™ã‚‹ã€‚

#### å®Ÿè£…ã®ãƒã‚¤ãƒ³ãƒˆ

**ã‚¿ã‚¤ãƒŸãƒ³ã‚°æˆ¦ç•¥**
```javascript
// âŒ æ‚ªã„ä¾‹: onChangeï¼ˆå…¥åŠ›ä¸­ã«æ¯å›æ¤œè¨¼ï¼‰
<input onChange={validate} />

// âœ… è‰¯ã„ä¾‹: onBlurï¼ˆãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒå¤–ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ï¼‰
<input onBlur={validate} />

// âœ… æœ€è‰¯: onBlur + ä¿®æ­£æ™‚ã¯onChange
<input 
  onBlur={handleBlur}
  onChange={isDirty ? handleChange : null}
/>
```

**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¨®é¡**
- **å¿…é ˆãƒã‚§ãƒƒã‚¯**: ç©ºæ¬„ã®æ¤œå‡º
- **ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒã‚§ãƒƒã‚¯**: ãƒ¡ãƒ¼ãƒ«ã€é›»è©±ç•ªå·ã€éƒµä¾¿ç•ªå·ãªã©
- **ç¯„å›²ãƒã‚§ãƒƒã‚¯**: æ•°å€¤ã®æœ€å°ãƒ»æœ€å¤§å€¤
- **æ–‡å­—æ•°ãƒã‚§ãƒƒã‚¯**: æœ€å°ãƒ»æœ€å¤§æ–‡å­—æ•°
- **é‡è¤‡ãƒã‚§ãƒƒã‚¯**: IDã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®é‡è¤‡ç¢ºèª

#### ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

```typescript
// ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…ä¾‹
interface ValidationRule {
  type: 'required' | 'email' | 'minLength' | 'maxLength' | 'pattern';
  value?: any;
  message: string;
}

const validateField = (value: string, rules: ValidationRule[]) => {
  for (const rule of rules) {
    switch (rule.type) {
      case 'required':
        if (!value || value.trim() === '') {
          return { valid: false, message: rule.message };
        }
        break;
      case 'email':
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(value)) {
          return { valid: false, message: rule.message };
        }
        break;
      case 'minLength':
        if (value.length < rule.value) {
          return { valid: false, message: rule.message };
        }
        break;
      // ... ä»–ã®ãƒ«ãƒ¼ãƒ«
    }
  }
  return { valid: true, message: '' };
};
```

#### UIãƒ‡ã‚¶ã‚¤ãƒ³

```jsx
// Reactå®Ÿè£…ä¾‹
const InputField = ({ label, name, rules, ...props }) => {
  const [value, setValue] = useState('');
  const [error, setError] = useState('');
  const [touched, setTouched] = useState(false);

  const handleBlur = () => {
    setTouched(true);
    const result = validateField(value, rules);
    setError(result.valid ? '' : result.message);
  };

  return (
    <div className={`form-field ${error ? 'has-error' : ''}`}>
      <label htmlFor={name}>
        {label}
        {rules.some(r => r.type === 'required') && (
          <span className="required">*</span>
        )}
      </label>
      <input
        id={name}
        name={name}
        value={value}
        onChange={(e) => setValue(e.target.value)}
        onBlur={handleBlur}
        aria-invalid={!!error}
        aria-describedby={error ? `${name}-error` : undefined}
        {...props}
      />
      {error && (
        <span id={`${name}-error`} className="error-message" role="alert">
          âš ï¸ {error}
        </span>
      )}
    </div>
  );
};
```

#### CSSã‚¹ã‚¿ã‚¤ãƒ«ä¾‹

```css
/* ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ */
.form-field.has-error input {
  border: 2px solid #dc3545;
  background-color: #fff5f5;
}

.form-field input:focus {
  outline: none;
  border-color: #007bff;
  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
}

.error-message {
  display: flex;
  align-items: center;
  gap: 4px;
  color: #dc3545;
  font-size: 0.875rem;
  margin-top: 4px;
}

.required {
  color: #dc3545;
  margin-left: 2px;
}
```

---

### 2. å…¥åŠ›è£œåŠ©æ©Ÿèƒ½

#### ã‚ªãƒ¼ãƒˆã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆ

```typescript
// ã‚ªãƒ¼ãƒˆã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆå®Ÿè£…ä¾‹
interface AutocompleteProps {
  suggestions: string[];
  onSelect: (value: string) => void;
}

const Autocomplete: React.FC<AutocompleteProps> = ({ 
  suggestions, 
  onSelect 
}) => {
  const [inputValue, setInputValue] = useState('');
  const [filteredSuggestions, setFilteredSuggestions] = useState<string[]>([]);
  const [showSuggestions, setShowSuggestions] = useState(false);

  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const value = e.target.value;
    setInputValue(value);

    if (value.length > 0) {
      const filtered = suggestions.filter(suggestion =>
        suggestion.toLowerCase().includes(value.toLowerCase())
      );
      setFilteredSuggestions(filtered);
      setShowSuggestions(true);
    } else {
      setShowSuggestions(false);
    }
  };

  const handleSelect = (suggestion: string) => {
    setInputValue(suggestion);
    setShowSuggestions(false);
    onSelect(suggestion);
  };

  return (
    <div className="autocomplete">
      <input
        type="text"
        value={inputValue}
        onChange={handleChange}
        aria-autocomplete="list"
        aria-controls="suggestions-list"
      />
      {showSuggestions && filteredSuggestions.length > 0 && (
        <ul id="suggestions-list" role="listbox">
          {filteredSuggestions.map((suggestion, index) => (
            <li
              key={index}
              onClick={() => handleSelect(suggestion)}
              role="option"
            >
              {suggestion}
            </li>
          ))}
        </ul>
      )}
    </div>
  );
};
```

#### å…¥åŠ›ãƒã‚¹ã‚¯

```typescript
// é›»è©±ç•ªå·ã®å…¥åŠ›ãƒã‚¹ã‚¯ä¾‹
const formatPhoneNumber = (value: string): string => {
  // æ•°å­—ã®ã¿æŠ½å‡º
  const numbers = value.replace(/\D/g, '');
  
  // ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆé©ç”¨
  if (numbers.length <= 3) {
    return numbers;
  } else if (numbers.length <= 7) {
    return `${numbers.slice(0, 3)}-${numbers.slice(3)}`;
  } else {
    return `${numbers.slice(0, 3)}-${numbers.slice(3, 7)}-${numbers.slice(7, 11)}`;
  }
};

const PhoneInput = () => {
  const [value, setValue] = useState('');

  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const formatted = formatPhoneNumber(e.target.value);
    setValue(formatted);
  };

  return (
    <input
      type="tel"
      value={value}
      onChange={handleChange}
      placeholder="090-1234-5678"
      maxLength={13}
    />
  );
};
```

#### ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³é¸æŠ

```jsx
// é¸æŠå¼å…¥åŠ›ã§æ‰‹å…¥åŠ›ãƒŸã‚¹ã‚’é˜²æ­¢
const SelectField = ({ label, options, value, onChange }) => {
  return (
    <div className="select-field">
      <label>{label}</label>
      <select value={value} onChange={onChange}>
        <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
        {options.map(option => (
          <option key={option.value} value={option.value}>
            {option.label}
          </option>
        ))}
      </select>
    </div>
  );
};
```

---

### 3. å‹•çš„ãƒ•ã‚©ãƒ¼ãƒ åˆ¶å¾¡ï¼ˆProgressive Disclosureï¼‰

#### æ¦‚è¦
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›å†…å®¹ã«å¿œã˜ã¦ã€å¿…è¦ãªé …ç›®ã®ã¿ã‚’æ®µéšçš„ã«è¡¨ç¤ºã™ã‚‹ã€‚

#### å®Ÿè£…ä¾‹

```typescript
const DynamicForm = () => {
  const [formData, setFormData] = useState({
    userType: '',
    companyName: '',
    individualName: '',
  });

  return (
    <form>
      {/* ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¿ã‚¤ãƒ—é¸æŠ */}
      <div>
        <label>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¿ã‚¤ãƒ—</label>
        <select
          value={formData.userType}
          onChange={(e) => setFormData({ ...formData, userType: e.target.value })}
        >
          <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
          <option value="corporate">æ³•äºº</option>
          <option value="individual">å€‹äºº</option>
        </select>
      </div>

      {/* æ³•äººã®å ´åˆã®ã¿è¡¨ç¤º */}
      {formData.userType === 'corporate' && (
        <div>
          <label>ä¼šç¤¾å</label>
          <input
            type="text"
            value={formData.companyName}
            onChange={(e) => setFormData({ ...formData, companyName: e.target.value })}
          />
        </div>
      )}

      {/* å€‹äººã®å ´åˆã®ã¿è¡¨ç¤º */}
      {formData.userType === 'individual' && (
        <div>
          <label>ãŠåå‰</label>
          <input
            type="text"
            value={formData.individualName}
            onChange={(e) => setFormData({ ...formData, individualName: e.target.value })}
          />
        </div>
      )}
    </form>
  );
};
```

---

### 4. æ˜ç¢ºãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

#### ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®åŸå‰‡

**âŒ æ‚ªã„ä¾‹**
```
ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ
å…¥åŠ›ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“
å¿…é ˆé …ç›®ã§ã™
```

**âœ… è‰¯ã„ä¾‹**
```
ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å½¢å¼ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚ã€Œ@ã€ã¨ã€Œ.ã€ã‚’å«ã‚ã¦å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯8æ–‡å­—ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚ï¼ˆç¾åœ¨: 5æ–‡å­—ï¼‰
é›»è©±ç•ªå·ã«ãƒã‚¤ãƒ•ãƒ³ã¯ä¸è¦ã§ã™ã€‚æ•°å­—ã®ã¿ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
```

#### å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

```typescript
// ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç®¡ç†
const errorMessages = {
  required: (fieldName: string) => `${fieldName}ã¯å¿…é ˆé …ç›®ã§ã™`,
  email: 'æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆä¾‹: example@email.comï¼‰',
  minLength: (min: number, current: number) => 
    `${min}æ–‡å­—ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆç¾åœ¨: ${current}æ–‡å­—ï¼‰`,
  maxLength: (max: number, current: number) => 
    `${max}æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆç¾åœ¨: ${current}æ–‡å­—ï¼‰`,
  pattern: (example: string) => 
    `æ­£ã—ã„å½¢å¼ã§å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆä¾‹: ${example}ï¼‰`,
};

// ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
const ErrorMessage = ({ error, fieldName }) => {
  if (!error) return null;

  return (
    <div className="error-container" role="alert">
      <svg className="error-icon" aria-hidden="true">
        {/* ã‚¨ãƒ©ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ */}
      </svg>
      <span className="error-text">{error}</span>
      {/* ä¿®æ­£æ–¹æ³•ã®ãƒ’ãƒ³ãƒˆ */}
      <button 
        type="button" 
        className="error-help"
        aria-label={`${fieldName}ã®å…¥åŠ›æ–¹æ³•ã‚’è¡¨ç¤º`}
      >
        ?
      </button>
    </div>
  );
};
```

---

### 5. è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

#### å…¥åŠ›çŠ¶æ…‹ã®è¦–è¦šåŒ–

```css
/* æœªå…¥åŠ› */
.input-field {
  border: 1px solid #ccc;
}

/* ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ä¸­ */
.input-field:focus {
  border-color: #007bff;
  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
}

/* æœ‰åŠ¹ãªå…¥åŠ› */
.input-field.valid {
  border-color: #28a745;
  background-image: url('checkmark.svg');
  background-repeat: no-repeat;
  background-position: right 12px center;
}

/* ã‚¨ãƒ©ãƒ¼ */
.input-field.invalid {
  border-color: #dc3545;
  background-color: #fff5f5;
}

/* ç„¡åŠ¹çŠ¶æ…‹ */
.input-field:disabled {
  background-color: #e9ecef;
  cursor: not-allowed;
}
```

#### ã‚¢ã‚¤ã‚³ãƒ³ã®æ´»ç”¨

```jsx
const InputWithIcon = ({ status, ...props }) => {
  const getIcon = () => {
    switch(status) {
      case 'valid': return 'âœ“';
      case 'invalid': return 'âœ—';
      case 'loading': return 'â³';
      default: return null;
    }
  };

  return (
    <div className="input-wrapper">
      <input {...props} />
      {getIcon() && (
        <span className={`input-icon ${status}`} aria-hidden="true">
          {getIcon()}
        </span>
      )}
    </div>
  );
};
```

---

### 6. å¿…é ˆé …ç›®ã®æ˜ç¤º

#### ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³

```jsx
const FormField = ({ label, required, children }) => {
  return (
    <div className="form-field">
      <label>
        {label}
        {required && (
          <>
            <span className="required-mark" aria-label="å¿…é ˆ">*</span>
            <span className="required-badge">å¿…é ˆ</span>
          </>
        )}
      </label>
      {children}
    </div>
  );
};
```

```css
.required-mark {
  color: #dc3545;
  margin-left: 4px;
  font-weight: bold;
}

.required-badge {
  background-color: #dc3545;
  color: white;
  padding: 2px 6px;
  border-radius: 3px;
  font-size: 0.75rem;
  margin-left: 8px;
}
```

---

### 7. ãƒ•ã‚©ãƒ¼ãƒ å…¨ä½“ã®ãƒ‡ã‚¶ã‚¤ãƒ³

#### ã‚·ãƒ³ãƒ—ãƒ«ã§ç›´æ„Ÿçš„ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```jsx
const WellDesignedForm = () => {
  return (
    <form className="well-designed-form">
      {/* é€²æ—è¡¨ç¤º */}
      <div className="form-progress">
        <div className="progress-bar" style={{ width: '33%' }} />
        <span>ã‚¹ãƒ†ãƒƒãƒ— 1 / 3</span>
      </div>

      {/* ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ†ã‘ */}
      <section className="form-section">
        <h2>åŸºæœ¬æƒ…å ±</h2>
        <div className="form-grid">
          {/* é–¢é€£ã™ã‚‹é …ç›®ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ– */}
          <FormField label="å§“" required>
            <input type="text" />
          </FormField>
          <FormField label="å" required>
            <input type="text" />
          </FormField>
        </div>
      </section>

      {/* ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆ */}
      <p className="form-help">
        ğŸ’¡ å…¥åŠ›ã—ãŸæƒ…å ±ã¯ã€ãŠå®¢æ§˜ã®åŒæ„ãªãç¬¬ä¸‰è€…ã«æä¾›ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
      </p>

      {/* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ */}
      <div className="form-actions">
        <button type="button" className="btn-secondary">æˆ»ã‚‹</button>
        <button type="submit" className="btn-primary">æ¬¡ã¸</button>
      </div>
    </form>
  );
};
```

---

## ãƒªã‚«ãƒãƒªãƒ¼ã—ã‚„ã™ã„è¨­è¨ˆ

### 1. è‡ªå‹•ä¿å­˜æ©Ÿèƒ½

#### å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

```typescript
// ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’ä½¿ã£ãŸè‡ªå‹•ä¿å­˜
const useAutoSave = (key: string, interval: number = 30000) => {
  const [data, setData] = useState(() => {
    // åˆå›ãƒã‚¦ãƒ³ãƒˆæ™‚ã«å¾©å…ƒ
    const saved = localStorage.getItem(key);
    return saved ? JSON.parse(saved) : {};
  });

  useEffect(() => {
    // å®šæœŸçš„ã«ä¿å­˜
    const timer = setInterval(() => {
      localStorage.setItem(key, JSON.stringify(data));
      console.log('è‡ªå‹•ä¿å­˜ã—ã¾ã—ãŸ');
    }, interval);

    return () => clearInterval(timer);
  }, [data, key, interval]);

  return [data, setData];
};

// ä½¿ç”¨ä¾‹
const FormWithAutoSave = () => {
  const [formData, setFormData] = useAutoSave('form-draft', 10000);

  return (
    <form>
      <div className="autosave-indicator">
        <span>âœ“ è‡ªå‹•ä¿å­˜æ¸ˆã¿</span>
      </div>
      {/* ãƒ•ã‚©ãƒ¼ãƒ å†…å®¹ */}
    </form>
  );
};
```

#### UIãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

```jsx
const AutoSaveIndicator = ({ status }) => {
  const messages = {
    saving: 'ä¿å­˜ä¸­...',
    saved: 'âœ“ ä¿å­˜æ¸ˆã¿',
    error: 'âš ï¸ ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ',
  };

  return (
    <div className={`autosave-status ${status}`}>
      {messages[status]}
    </div>
  );
};
```

---

### 2. æ“ä½œã®å–ã‚Šæ¶ˆã—ï¼ˆUndo/Redoï¼‰

#### å®Ÿè£…ä¾‹

```typescript
// Undo/Redoæ©Ÿèƒ½ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
interface HistoryState<T> {
  past: T[];
  present: T;
  future: T[];
}

const useHistory = <T,>(initialState: T) => {
  const [state, setState] = useState<HistoryState<T>>({
    past: [],
    present: initialState,
    future: [],
  });

  const set = (newPresent: T) => {
    setState({
      past: [...state.past, state.present],
      present: newPresent,
      future: [],
    });
  };

  const undo = () => {
    if (state.past.length === 0) return;

    const previous = state.past[state.past.length - 1];
    const newPast = state.past.slice(0, state.past.length - 1);

    setState({
      past: newPast,
      present: previous,
      future: [state.present, ...state.future],
    });
  };

  const redo = () => {
    if (state.future.length === 0) return;

    const next = state.future[0];
    const newFuture = state.future.slice(1);

    setState({
      past: [...state.past, state.present],
      present: next,
      future: newFuture,
    });
  };

  const canUndo = state.past.length > 0;
  const canRedo = state.future.length > 0;

  return {
    state: state.present,
    set,
    undo,
    redo,
    canUndo,
    canRedo,
  };
};

// ä½¿ç”¨ä¾‹
const TextEditorWithHistory = () => {
  const { state, set, undo, redo, canUndo, canRedo } = useHistory('');

  return (
    <div>
      <div className="toolbar">
        <button onClick={undo} disabled={!canUndo}>
          â†¶ å…ƒã«æˆ»ã™
        </button>
        <button onClick={redo} disabled={!canRedo}>
          â†· ã‚„ã‚Šç›´ã™
        </button>
      </div>
      <textarea
        value={state}
        onChange={(e) => set(e.target.value)}
      />
    </div>
  );
};
```

---

### 3. ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°

#### å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

```typescript
// ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
interface ConfirmDialogProps {
  title: string;
  message: string;
  onConfirm: () => void;
  onCancel: () => void;
  confirmText?: string;
  cancelText?: string;
  danger?: boolean;
}

const ConfirmDialog: React.FC<ConfirmDialogProps> = ({
  title,
  message,
  onConfirm,
  onCancel,
  confirmText = 'å®Ÿè¡Œ',
  cancelText = 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«',
  danger = false,
}) => {
  return (
    <div className="dialog-overlay" role="dialog" aria-modal="true">
      <div className="dialog-content">
        <h3>{title}</h3>
        <p>{message}</p>
        <div className="dialog-actions">
          <button
            onClick={onCancel}
            className="btn-secondary"
            autoFocus
          >
            {cancelText}
          </button>
          <button
            onClick={onConfirm}
            className={danger ? 'btn-danger' : 'btn-primary'}
          >
            {confirmText}
          </button>
        </div>
      </div>
    </div>
  );
};

// ä½¿ç”¨ä¾‹
const DeleteButton = ({ itemId, itemName }) => {
  const [showConfirm, setShowConfirm] = useState(false);

  const handleDelete = () => {
    // å‰Šé™¤å‡¦ç†
    deleteItem(itemId);
    setShowConfirm(false);
  };

  return (
    <>
      <button onClick={() => setShowConfirm(true)}>
        å‰Šé™¤
      </button>
      {showConfirm && (
        <ConfirmDialog
          title="å‰Šé™¤ã®ç¢ºèª"
          message={`ã€Œ${itemName}ã€ã‚’å‰Šé™¤ã—ã¦ã‚‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã›ã¾ã›ã‚“ã€‚`}
          onConfirm={handleDelete}
          onCancel={() => setShowConfirm(false)}
          confirmText="å‰Šé™¤ã™ã‚‹"
          danger
        />
      )}
    </>
  );
};
```

---

### 4. ä¸‹æ›¸ãä¿å­˜ã¨å¾©å…ƒ

#### å®Ÿè£…ä¾‹

```typescript
// ä¸‹æ›¸ãç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
class DraftManager {
  private storageKey: string;

  constructor(formId: string) {
    this.storageKey = `draft_${formId}`;
  }

  // ä¸‹æ›¸ãä¿å­˜
  saveDraft(data: any) {
    const draft = {
      data,
      timestamp: new Date().toISOString(),
    };
    localStorage.setItem(this.storageKey, JSON.stringify(draft));
  }

  // ä¸‹æ›¸ãå–å¾—
  getDraft() {
    const saved = localStorage.getItem(this.storageKey);
    if (!saved) return null;
    return JSON.parse(saved);
  }

  // ä¸‹æ›¸ãå‰Šé™¤
  clearDraft() {
    localStorage.removeItem(this.storageKey);
  }

  // ä¸‹æ›¸ãå­˜åœ¨ãƒã‚§ãƒƒã‚¯
  hasDraft(): boolean {
    return localStorage.getItem(this.storageKey) !== null;
  }
}

// Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®ä½¿ç”¨
const FormWithDraft = ({ formId }) => {
  const draftManager = useMemo(() => new DraftManager(formId), [formId]);
  const [formData, setFormData] = useState({});
  const [showDraftNotice, setShowDraftNotice] = useState(false);

  useEffect(() => {
    // ä¸‹æ›¸ããŒå­˜åœ¨ã™ã‚‹å ´åˆã¯é€šçŸ¥ã‚’è¡¨ç¤º
    if (draftManager.hasDraft()) {
      setShowDraftNotice(true);
    }
  }, []);

  const restoreDraft = () => {
    const draft = draftManager.getDraft();
    if (draft) {
      setFormData(draft.data);
      setShowDraftNotice(false);
    }
  };

  const discardDraft = () => {
    draftManager.clearDraft();
    setShowDraftNotice(false);
  };

  return (
    <>
      {showDraftNotice && (
        <div className="draft-notice" role="alert">
          <p>å‰å›ã®å…¥åŠ›å†…å®¹ãŒæ®‹ã£ã¦ã„ã¾ã™</p>
          <button onClick={restoreDraft}>å¾©å…ƒã™ã‚‹</button>
          <button onClick={discardDraft}>ç ´æ£„ã™ã‚‹</button>
        </div>
      )}
      <form>
        {/* ãƒ•ã‚©ãƒ¼ãƒ å†…å®¹ */}
      </form>
    </>
  );
};
```

---

### 5. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨å¾©æ—§

#### ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼å¯¾å¿œ

```typescript
// ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½ä»˜ãAPIé€ä¿¡
const submitWithRetry = async (
  data: any,
  maxRetries: number = 3
): Promise<void> => {
  let lastError: Error;

  for (let attempt = 1; attempt <= maxRetries; attempt++) {
    try {
      await api.submit(data);
      return; // æˆåŠŸ
    } catch (error) {
      lastError = error;
      
      if (attempt < maxRetries) {
        // æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ã§å¾…æ©Ÿ
        const delay = Math.pow(2, attempt) * 1000;
        await new Promise(resolve => setTimeout(resolve, delay));
      }
    }
  }

  throw lastError; // å…¨ã¦å¤±æ•—
};

// ä½¿ç”¨ä¾‹
const FormSubmit = () => {
  const [status, setStatus] = useState('idle');

  const handleSubmit = async (data) => {
    setStatus('submitting');
    
    try {
      await submitWithRetry(data);
      setStatus('success');
    } catch (error) {
      setStatus('error');
      // ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜ã—ã¦ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ
      localStorage.setItem('pending_submission', JSON.stringify(data));
    }
  };

  return (
    <div>
      {status === 'error' && (
        <div className="error-banner" role="alert">
          <p>é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒ‡ãƒ¼ã‚¿ã¯ä¿å­˜ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
          <button onClick={() => handleSubmit(JSON.parse(localStorage.getItem('pending_submission')))}>
            å†é€ä¿¡
          </button>
        </div>
      )}
    </div>
  );
};
```

---

### 6. ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´

#### å®Ÿè£…ä¾‹

```typescript
// ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
interface Version {
  id: string;
  data: any;
  timestamp: Date;
  description: string;
}

class VersionControl {
  private versions: Version[] = [];
  private maxVersions: number = 10;

  // æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¿å­˜
  saveVersion(data: any, description: string = 'è‡ªå‹•ä¿å­˜') {
    const version: Version = {
      id: crypto.randomUUID(),
      data: JSON.parse(JSON.stringify(data)), // ãƒ‡ã‚£ãƒ¼ãƒ—ã‚³ãƒ”ãƒ¼
      timestamp: new Date(),
      description,
    };

    this.versions.push(version);

    // æœ€å¤§æ•°ã‚’è¶…ãˆãŸã‚‰å¤ã„ã‚‚ã®ã‚’å‰Šé™¤
    if (this.versions.length > this.maxVersions) {
      this.versions.shift();
    }
  }

  // ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸€è¦§å–å¾—
  getVersions(): Version[] {
    return [...this.versions].reverse(); // æ–°ã—ã„é †
  }

  // ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒ‡ãƒ¼ã‚¿å–å¾—
  getVersion(id: string): any {
    const version = this.versions.find(v => v.id === id);
    return version ? version.data : null;
  }
}

// UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
const VersionHistory = ({ versionControl, onRestore }) => {
  const [showHistory, setShowHistory] = useState(false);
  const versions = versionControl.getVersions();

  return (
    <div>
      <button onClick={() => setShowHistory(!showHistory)}>
        ğŸ“œ å±¥æ­´ã‚’è¡¨ç¤º ({versions.length})
      </button>
      
      {showHistory && (
        <div className="version-history">
          <h3>å¤‰æ›´å±¥æ­´</h3>
          <ul>
            {versions.map(version => (
              <li key={version.id}>
                <div className="version-info">
                  <span className="version-time">
                    {formatTimestamp(version.timestamp)}
                  </span>
                  <span className="version-desc">
                    {version.description}
                  </span>
                </div>
                <button onClick={() => onRestore(version.data)}>
                  å¾©å…ƒ
                </button>
              </li>
            ))}
          </ul>
        </div>
      )}
    </div>
  );
};
```

---

## å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³é›†

### ãƒ‘ã‚¿ãƒ¼ãƒ³1: å¤šæ®µéšãƒ•ã‚©ãƒ¼ãƒ 

```typescript
const MultiStepForm = () => {
  const [currentStep, setCurrentStep] = useState(1);
  const [formData, setFormData] = useAutoSave('multi-step-form');

  const steps = [
    { id: 1, title: 'åŸºæœ¬æƒ…å ±', component: BasicInfoStep },
    { id: 2, title: 'è©³ç´°æƒ…å ±', component: DetailStep },
    { id: 3, title: 'ç¢ºèª', component: ConfirmStep },
  ];

  const goToNextStep = () => {
    if (currentStep < steps.length) {
      setCurrentStep(currentStep + 1);
    }
  };

  const goToPrevStep = () => {
    if (currentStep > 1) {
      setCurrentStep(currentStep - 1);
    }
  };

  const CurrentStepComponent = steps[currentStep - 1].component;

  return (
    <div className="multi-step-form">
      {/* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ */}
      <div className="progress-indicator">
        {steps.map(step => (
          <div
            key={step.id}
            className={`step ${currentStep >= step.id ? 'completed' : ''} ${currentStep === step.id ? 'active' : ''}`}
          >
            <div className="step-number">{step.id}</div>
            <div className="step-title">{step.title}</div>
          </div>
        ))}
      </div>

      {/* ç¾åœ¨ã®ã‚¹ãƒ†ãƒƒãƒ— */}
      <CurrentStepComponent
        data={formData}
        onChange={setFormData}
      />

      {/* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */}
      <div className="form-navigation">
        <button
          onClick={goToPrevStep}
          disabled={currentStep === 1}
        >
          â† æˆ»ã‚‹
        </button>
        <button onClick={goToNextStep}>
          {currentStep === steps.length ? 'é€ä¿¡' : 'æ¬¡ã¸ â†’'}
        </button>
      </div>
    </div>
  );
};
```

---

### ãƒ‘ã‚¿ãƒ¼ãƒ³2: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼

```typescript
// å…¥åŠ›å†…å®¹ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
const FormWithPreview = () => {
  const [formData, setFormData] = useState({
    title: '',
    description: '',
    category: '',
  });

  return (
    <div className="form-with-preview">
      <div className="form-section">
        <h2>å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ </h2>
        <input
          type="text"
          value={formData.title}
          onChange={(e) => setFormData({ ...formData, title: e.target.value })}
          placeholder="ã‚¿ã‚¤ãƒˆãƒ«"
        />
        <textarea
          value={formData.description}
          onChange={(e) => setFormData({ ...formData, description: e.target.value })}
          placeholder="èª¬æ˜"
        />
      </div>

      <div className="preview-section">
        <h2>ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</h2>
        <div className="preview-card">
          <h3>{formData.title || 'ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'}</h3>
          <p>{formData.description || 'èª¬æ˜ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'}</p>
        </div>
      </div>
    </div>
  );
};
```

---

### ãƒ‘ã‚¿ãƒ¼ãƒ³3: ãƒãƒ«ã‚¯ã‚¨ãƒ©ãƒ¼è¡¨ç¤º

```typescript
// ãƒ•ã‚©ãƒ¼ãƒ å…¨ä½“ã®ã‚¨ãƒ©ãƒ¼ã‚’ã¾ã¨ã‚ã¦è¡¨ç¤º
const ErrorSummary = ({ errors }) => {
  if (Object.keys(errors).length === 0) return null;

  return (
    <div className="error-summary" role="alert">
      <h3>å…¥åŠ›å†…å®¹ã«èª¤ã‚ŠãŒã‚ã‚Šã¾ã™</h3>
      <ul>
        {Object.entries(errors).map(([field, message]) => (
          <li key={field}>
            <a href={`#${field}`} onClick={() => {
              document.getElementById(field)?.focus();
            }}>
              {message}
            </a>
          </li>
        ))}
      </ul>
    </div>
  );
};

const FormWithErrorSummary = () => {
  const [errors, setErrors] = useState({});

  const handleSubmit = (e) => {
    e.preventDefault();
    const validationErrors = validateForm(formData);
    
    if (Object.keys(validationErrors).length > 0) {
      setErrors(validationErrors);
      // ãƒ•ã‚©ãƒ¼ãƒ ã®å…ˆé ­ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  };

  return (
    <form onSubmit={handleSubmit}>
      <ErrorSummary errors={errors} />
      {/* ãƒ•ã‚©ãƒ¼ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ */}
    </form>
  );
};
```

---

## å®Ÿéš›ã®ã‚µãƒ¼ãƒ“ã‚¹äº‹ä¾‹

### äº‹ä¾‹1: SmartDBï¼ˆã‚¹ãƒãƒ¼ãƒˆDBï¼‰

**ç‰¹å¾´**
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å…¥åŠ›ãƒã‚§ãƒƒã‚¯
- å‹•çš„é …ç›®åˆ¶å¾¡
- å¤–éƒ¨ãƒ‡ãƒ¼ã‚¿å‚ç…§

**å®Ÿè£…ã®ãƒã‚¤ãƒ³ãƒˆ**
```typescript
// SmartDBé¢¨ã®å‹•çš„ãƒ•ã‚©ãƒ¼ãƒ åˆ¶å¾¡
const SmartDBStyleForm = () => {
  const [formData, setFormData] = useState({});
  const [visibleFields, setVisibleFields] = useState(['name', 'email']);

  // å…¥åŠ›å†…å®¹ã«å¿œã˜ã¦è¡¨ç¤ºé …ç›®ã‚’åˆ¶å¾¡
  useEffect(() => {
    const fields = ['name', 'email'];
    
    if (formData.userType === 'corporate') {
      fields.push('companyName', 'department');
    }
    
    if (formData.needsInvoice === true) {
      fields.push('invoiceAddress');
    }
    
    setVisibleFields(fields);
  }, [formData.userType, formData.needsInvoice]);

  return (
    <form>
      {visibleFields.map(field => (
        <FormField key={field} name={field} />
      ))}
    </form>
  );
};
```

---

### äº‹ä¾‹2: æ¥½æ¥½ç²¾ç®—

**ç‰¹å¾´**
- OCRè‡ªå‹•èª­ã¿å–ã‚Š
- äºŒé‡å…¥åŠ›ä¸è¦
- å·®ã—æˆ»ã—é˜²æ­¢æ©Ÿèƒ½

**å®Ÿè£…ã®ãƒã‚¤ãƒ³ãƒˆ**
```typescript
// ãƒ¬ã‚·ãƒ¼ãƒˆOCR + è‡ªå‹•å…¥åŠ›
const ExpenseFormWithOCR = () => {
  const [receiptImage, setReceiptImage] = useState(null);
  const [extractedData, setExtractedData] = useState({});
  const [isProcessing, setIsProcessing] = useState(false);

  const handleImageUpload = async (file) => {
    setIsProcessing(true);
    
    // OCRå‡¦ç†
    const result = await ocrService.extract(file);
    
    setExtractedData({
      date: result.date,
      amount: result.amount,
      merchant: result.merchant,
    });
    
    setIsProcessing(false);
  };

  return (
    <form>
      <div className="receipt-upload">
        <input
          type="file"
          accept="image/*"
          onChange={(e) => handleImageUpload(e.target.files[0])}
        />
        {isProcessing && <p>èª­ã¿å–ã‚Šä¸­...</p>}
      </div>

      {/* æŠ½å‡ºã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•å…¥åŠ› */}
      <input
        type="date"
        value={extractedData.date || ''}
        readOnly={!!extractedData.date}
      />
      <input
        type="number"
        value={extractedData.amount || ''}
        readOnly={!!extractedData.amount}
      />
    </form>
  );
};
```

---

### äº‹ä¾‹3: Notion

**ç‰¹å¾´**
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è‡ªå‹•ä¿å­˜
- ç„¡åˆ¶é™ã®Undo/Redo
- ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ

**å®Ÿè£…ã®ãƒã‚¤ãƒ³ãƒˆ**
```typescript
// Notioné¢¨ã®è‡ªå‹•ä¿å­˜ã¨ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ
const NotionStyleEditor = () => {
  const [content, setContent] = useState('');
  const [syncStatus, setSyncStatus] = useState('synced');
  const debouncedContent = useDebounce(content, 1000);

  // è‡ªå‹•ä¿å­˜
  useEffect(() => {
    const saveContent = async () => {
      setSyncStatus('saving');
      
      try {
        if (navigator.onLine) {
          await api.save(debouncedContent);
          setSyncStatus('synced');
        } else {
          // ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ™‚ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜
          localStorage.setItem('offline_content', debouncedContent);
          setSyncStatus('offline');
        }
      } catch (error) {
        setSyncStatus('error');
      }
    };

    if (debouncedContent) {
      saveContent();
    }
  }, [debouncedContent]);

  return (
    <div>
      <div className="sync-indicator">
        {syncStatus === 'saving' && 'ä¿å­˜ä¸­...'}
        {syncStatus === 'synced' && 'âœ“ ä¿å­˜æ¸ˆã¿'}
        {syncStatus === 'offline' && 'âš ï¸ ã‚ªãƒ•ãƒ©ã‚¤ãƒ³'}
        {syncStatus === 'error' && 'âŒ ä¿å­˜å¤±æ•—'}
      </div>
      <textarea
        value={content}
        onChange={(e) => setContent(e.target.value)}
      />
    </div>
  );
};

// ãƒ‡ãƒã‚¦ãƒ³ã‚¹ãƒ•ãƒƒã‚¯
const useDebounce = (value, delay) => {
  const [debouncedValue, setDebouncedValue] = useState(value);

  useEffect(() => {
    const timer = setTimeout(() => {
      setDebouncedValue(value);
    }, delay);

    return () => clearTimeout(timer);
  }, [value, delay]);

  return debouncedValue;
};
```

---

### ãƒ‘ã‚¿ãƒ¼ãƒ³5: ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ãƒ•ãƒˆé˜²æ­¢ï¼ˆCLSå¯¾ç­–ï¼‰

#### æ¦‚è¦

ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹éš›ã«ç”»é¢ãŒä¸‹ã«ä¼¸ã³ã‚‹ã€Œãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ãƒ•ãƒˆã€ã¯ã€UXä¸Šã®å¤§ããªå•é¡Œã§ã™ã€‚Google Core Web Vitalsã®CLSï¼ˆCumulative Layout Shiftï¼‰ã‚¹ã‚³ã‚¢ã‚’æ”¹å–„ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’å‘ä¸Šã•ã›ã¾ã™ã€‚

#### å•é¡Œç‚¹

```typescript
// âŒ æ‚ªã„ä¾‹: display: none/block ã‚’ä½¿ç”¨
<div className="error-message" style={{ display: error ? 'block' : 'none' }}>
  {error}
</div>
```

**æ‚ªå½±éŸ¿:**
- **CLSï¼ˆCumulative Layout Shiftï¼‰ã‚¹ã‚³ã‚¢ã®æ‚ªåŒ–** (0.25ä»¥ä¸Š = ä¸è‰¯)
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¦–ç·šãŒå¼·åˆ¶ç§»å‹•** â†’ èªçŸ¥è² è·ã®å¢—åŠ 
- **æ¬¡ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ä½ç½®ãŒãšã‚Œã‚‹** â†’ èª¤ã‚¯ãƒªãƒƒã‚¯ã®åŸå› 
- **ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã§ãªã„å°è±¡**
- **é›†ä¸­åŠ›ã®æ•£æ¼«** â†’ ç‰¹ã«æ³¨æ„åŠ›ãŒæ•£ã‚Šã‚„ã™ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å½±éŸ¿å¤§

#### è§£æ±ºç­–1: ã‚¹ãƒšãƒ¼ã‚¹äº‹å‰ç¢ºä¿ï¼ˆæ¨å¥¨ï¼‰â˜…â˜…â˜…â˜…â˜…

```typescript
// âœ… è‰¯ã„ä¾‹: opacity + min-height ã§ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ãƒ•ãƒˆã‚’é˜²æ­¢
const FormFieldWithStableLayout = () => {
  const [email, setEmail] = useState('');
  const [error, setError] = useState('');

  const validateEmail = (value) => {
    if (!value) return '';
    if (!value.includes('@')) {
      return 'âš ï¸ ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ã¯ã€Œ@ã€ãŒå¿…è¦ã§ã™';
    }
    if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) {
      return 'âš ï¸ ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å½¢å¼ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ï¼ˆä¾‹: example@email.comï¼‰';
    }
    return '';
  };

  const handleChange = (e) => {
    const value = e.target.value;
    setEmail(value);
    setError(validateEmail(value));
  };

  return (
    <div className="form-field">
      <label htmlFor="email">
        ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ <span className="required">*</span>
      </label>
      <input
        id="email"
        type="email"
        value={email}
        onChange={handleChange}
        className={error ? 'invalid' : ''}
        aria-describedby="email-error"
        aria-invalid={!!error}
      />
      {/* å¸¸ã«é ˜åŸŸã‚’ç¢ºä¿ã€opacityã§è¡¨ç¤ºåˆ¶å¾¡ */}
      <div 
        id="email-error"
        className={`error-message ${error ? 'show' : ''}`}
        role="alert"
        aria-live="polite"
      >
        {error || '\u00A0'} {/* ç©ºã®å ´åˆã¯éè¡¨ç¤ºã‚¹ãƒšãƒ¼ã‚¹ */}
      </div>
    </div>
  );
};
```

#### CSSå®Ÿè£…

```css
/* ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ãƒ•ãƒˆé˜²æ­¢ã®ãŸã‚ã®ã‚¹ã‚¿ã‚¤ãƒ« */
.form-field {
  margin-bottom: 1.5rem;
}

.form-field input {
  width: 100%;
  padding: 0.75rem;
  margin-bottom: 0.5rem;
  border-radius: 6px;
  border: 2px solid #e2e8f0;
  font-size: 1rem;
  transition: border-color 0.3s, background-color 0.3s;
}

.form-field input:focus {
  outline: none;
  border-color: #667eea;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

.form-field input.invalid {
  border-color: #ff5252;
  background-color: #fff5f5;
}

/* ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”¨ã®å›ºå®šã‚¹ãƒšãƒ¼ã‚¹ã‚’ç¢ºä¿ */
.error-message {
  font-size: 0.875rem;
  color: #ff5252;
  min-height: 1.5rem; /* 1è¡Œåˆ†ã®é«˜ã•ã‚’ç¢ºä¿ */
  margin-bottom: 0.5rem;
  transition: opacity 0.3s ease; /* ã‚¹ãƒ ãƒ¼ã‚ºãªè¡¨ç¤º/éè¡¨ç¤º */
  opacity: 0; /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯é€æ˜ */
  display: block; /* å¸¸ã«è¡¨ç¤ºã—ã¦é ˜åŸŸç¢ºä¿ */
}

/* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºæ™‚ã®ã¿ä¸é€æ˜ã« */
.error-message.show {
  opacity: 1;
}
```

#### CLSï¼ˆCumulative Layout Shiftï¼‰ã®è©•ä¾¡åŸºæº–

| ã‚¹ã‚³ã‚¢ | è©•ä¾¡ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ |
|---|---|---|
| **0.1æœªæº€** | âœ… è‰¯å¥½ | ã‚¹ãƒˆãƒ¬ã‚¹ãªã— |
| **0.1ã€œ0.25** | âš ï¸ æ”¹å–„ãŒå¿…è¦ | ã‚„ã‚„æ°—ã«ãªã‚‹ |
| **0.25ä»¥ä¸Š** | âŒ ä¸è‰¯ | ã‚¤ãƒ©ã‚¤ãƒ©ã™ã‚‹ |

**ç›®æ¨™:** CLSã‚¹ã‚³ã‚¢ **0.05ä»¥ä¸‹**ï¼ˆå„ªç§€ï¼‰

#### è§£æ±ºç­–2: çµ¶å¯¾é…ç½®

```css
.form-field {
  position: relative;
  margin-bottom: 3rem; /* ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸åˆ†ã®ã‚¹ãƒšãƒ¼ã‚¹ */
}

.error-message {
  position: absolute;
  bottom: -1.5rem; /* inputã®ä¸‹ã«å›ºå®šé…ç½® */
  left: 0;
  font-size: 0.875rem;
  color: #ff5252;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.error-message.show {
  opacity: 1;
}
```

**ãƒ¡ãƒªãƒƒãƒˆ:**
- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«ä¸€åˆ‡å½±éŸ¿ã—ãªã„
- è¤‡æ•°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§ã‚‚ã‚¹ãƒƒã‚­ãƒª

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ:**
- ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒè¦‹ãˆã«ãã„å ´åˆãŒã‚ã‚‹

#### è§£æ±ºç­–3: ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ï¼ˆè¤‡æ•°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å‘ã‘ï¼‰

```typescript
const ToastNotification = ({ message, type = 'error', onClose }) => {
  useEffect(() => {
    const timer = setTimeout(() => {
      onClose();
    }, 5000);
    return () => clearTimeout(timer);
  }, [onClose]);

  return (
    <div 
      className={`toast toast-${type}`}
      role="alert"
      aria-live="assertive"
      style={{
        position: 'fixed',
        top: '1rem',
        right: '1rem',
        zIndex: 9999,
        animation: 'slideInRight 0.3s ease'
      }}
    >
      <div className="toast-content">
        <span className="toast-icon">
          {type === 'error' ? 'âš ï¸' : 'âœ“'}
        </span>
        <span className="toast-message">{message}</span>
        <button 
          className="toast-close"
          onClick={onClose}
          aria-label="é–‰ã˜ã‚‹"
        >
          âœ•
        </button>
      </div>
    </div>
  );
};
```

```css
@keyframes slideInRight {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.toast {
  min-width: 300px;
  padding: 1rem;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  background: white;
}

.toast-error {
  border-left: 4px solid #ff5252;
}

.toast-content {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}
```

#### æ¨å¥¨ã•ã‚Œã‚‹é¸æŠåŸºæº–

| ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ | æ¨å¥¨æ‰‹æ³• | CLSã‚¹ã‚³ã‚¢ | å®Ÿè£…é›£æ˜“åº¦ |
|---|---|---|---|
| å˜ä¸€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ï¼‰ | ã‚¹ãƒšãƒ¼ã‚¹äº‹å‰ç¢ºä¿ | âœ… 0.0 | ç°¡å˜ â­â­â­â­â­ |
| è¤‡æ•°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆçŸ­ã„ãƒ•ã‚©ãƒ¼ãƒ ï¼‰ | ã‚¹ãƒšãƒ¼ã‚¹äº‹å‰ç¢ºä¿ | âœ… 0.0 | ç°¡å˜ â­â­â­â­â­ |
| è¤‡æ•°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆé•·ã„ãƒ•ã‚©ãƒ¼ãƒ ï¼‰ | çµ¶å¯¾é…ç½® or ãƒˆãƒ¼ã‚¹ãƒˆ | âœ… 0.0 | ä¸­ â­â­â­â˜†â˜† |
| ãƒ¢ãƒã‚¤ãƒ« | ãƒˆãƒ¼ã‚¹ãƒˆ or ç”»é¢ä¸Šéƒ¨å›ºå®š | âœ… 0.0 | ä¸­ â­â­â­â˜†â˜† |
| èªçŸ¥è² è·ãŒæ°—ã«ãªã‚‹å ´åˆ | ã‚¹ãƒšãƒ¼ã‚¹äº‹å‰ç¢ºä¿ | âœ… 0.0 | ç°¡å˜ â­â­â­â­â­ |

#### ãƒ‡ã‚¸ã‚¿ãƒ«åºãƒ»WCAG 2.1ã¨ã®å¯¾å¿œ

| åŸºæº– | é”æˆãƒ¬ãƒ™ãƒ« | é–¢é€£ã™ã‚‹é”æˆåŸºæº– |
|---|---|---|
| **JIS X 8341-3:2016** | ãƒ¬ãƒ™ãƒ«AA | 3.2.1 ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚ï¼ˆé”æˆåŸºæº–Aï¼‰ |
| **WCAG 2.1** | ãƒ¬ãƒ™ãƒ«AA | 3.2.2 å…¥åŠ›æ™‚ï¼ˆé”æˆåŸºæº–Aï¼‰ |
| **Core Web Vitals** | è‰¯å¥½ | CLS < 0.1 |

**ãƒ‡ã‚¸ã‚¿ãƒ«åºã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³:**
- äºˆæ¸¬å¯èƒ½æ€§ã®ç¢ºä¿
- è¦–è¦šçš„ãªå®‰å®šæ€§
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ“ä½œã‚’å¦¨ã’ãªã„

#### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š

```javascript
// CLSã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§æ¸¬å®š
import { getCLS } from 'web-vitals';

getCLS((metric) => {
  console.log('CLS score:', metric.value);
  // 0.1æœªæº€ãŒç›®æ¨™
  if (metric.value >= 0.1) {
    console.warn('CLSã‚¹ã‚³ã‚¢ãŒé«˜ã™ãã¾ã™ï¼æ”¹å–„ãŒå¿…è¦ã§ã™ã€‚');
  }
});
```

**Lighthouse ã§ã®ç¢ºèª:**
1. Chrome DevTools ã‚’é–‹ã
2. Lighthouse ã‚¿ãƒ–
3. "Generate report" ã‚’ã‚¯ãƒªãƒƒã‚¯
4. "Cumulative Layout Shift" ã‚’ãƒã‚§ãƒƒã‚¯

#### ã¾ã¨ã‚

| æ‰‹æ³• | CLS | å®Ÿè£…é›£æ˜“åº¦ | èªçŸ¥è² è· | æ¨å¥¨åº¦ |
|---|---|---|---|---|
| `display: none/block` | âŒ 0.3+ | ç°¡å˜ | é«˜ã„ | â­â˜†â˜†â˜†â˜† |
| `opacity + min-height` | âœ… 0.0 | ç°¡å˜ | ä½ã„ | â­â­â­â­â­ |
| `position: absolute` | âœ… 0.0 | ä¸­ | ä½ã„ | â­â­â­â­â˜† |
| ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ | âœ… 0.0 | ä¸­ã€œé«˜ | ä¸­ | â­â­â­â­â˜† |

**çµè«–:** ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”¨ã®ã‚¹ãƒšãƒ¼ã‚¹ã‚’äº‹å‰ã«ç¢ºä¿ã—ã€`opacity`ã§è¡¨ç¤º/éè¡¨ç¤ºã‚’åˆ¶å¾¡ã™ã‚‹ã®ãŒæœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã§åŠ¹æœçš„ã§ã™ã€‚

---

## ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### èªçŸ¥è² è·ã®è»½æ¸›

- [ ] ä¸€åº¦ã«è¡¨ç¤ºã™ã‚‹æƒ…å ±é‡ãŒé©åˆ‡
- [ ] æ®µéšçš„ãªæƒ…å ±é–‹ç¤ºã‚’å®Ÿè£…ã—ã¦ã„ã‚‹
- [ ] ç¾åœ¨ã®ä½ç½®ãƒ»çŠ¶æ…‹ãŒå¸¸ã«æ˜ç¢º
- [ ] ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆã‚„ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ãŒã‚ã‚‹
- [ ] ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ãƒ˜ãƒ«ãƒ—ãŒåˆ©ç”¨å¯èƒ½
- [ ] ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚„è‡ªå‹•å…¥åŠ›ã‚’æ´»ç”¨
- [ ] è¦–è¦šçš„ãªæ‰‹ãŒã‹ã‚ŠãŒè±Šå¯Œ
- [ ] ã‚¿ã‚¹ã‚¯ãŒå°ã•ãªã‚¹ãƒ†ãƒƒãƒ—ã«åˆ†å‰²ã•ã‚Œã¦ã„ã‚‹
- [ ] ä¸­æ–­ã‹ã‚‰ã®å¾©å¸°ãŒå®¹æ˜“
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã®é©åˆ‡ãªç®¡ç†
- [ ] å…¥åŠ›æ¸ˆã¿é …ç›®ã®ã‚µãƒãƒªãƒ¼ãŒè¦‹ãˆã‚‹
- [ ] é”æˆæ„Ÿã‚’ä¸ãˆã‚‹ä»•çµ„ã¿ãŒã‚ã‚‹

### å…¥åŠ›ãƒŸã‚¹é˜²æ­¢

- [ ] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã—ã¦ã„ã‚‹
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯å…·ä½“çš„ã§ç†è§£ã—ã‚„ã™ã„
- [ ] å¿…é ˆé …ç›®ãŒæ˜ç¢ºã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹
- [ ] å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ä¾‹ç¤ºãŒã‚ã‚‹
- [ ] ã‚ªãƒ¼ãƒˆã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆ/ã‚µã‚¸ã‚§ã‚¹ãƒˆæ©Ÿèƒ½ãŒã‚ã‚‹
- [ ] ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãªã©é¸æŠå¼å…¥åŠ›ã‚’æ´»ç”¨ã—ã¦ã„ã‚‹
- [ ] å…¥åŠ›ãƒã‚¹ã‚¯ã§è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¦ã„ã‚‹
- [ ] å‹•çš„ã«ä¸è¦ãªé …ç›®ã‚’éè¡¨ç¤ºã«ã—ã¦ã„ã‚‹
- [ ] å…¥åŠ›çŠ¶æ…‹ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒã‚ã‚‹
- [ ] ãƒ•ã‚©ãƒ¼ãƒ ãŒè«–ç†çš„ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã•ã‚Œã¦ã„ã‚‹

### ãƒªã‚«ãƒãƒªãƒ¼æ©Ÿèƒ½

- [ ] è‡ªå‹•ä¿å­˜æ©Ÿèƒ½ãŒã‚ã‚‹
- [ ] Undo/Redoæ©Ÿèƒ½ãŒã‚ã‚‹
- [ ] é‡è¦ãªæ“ä½œå‰ã«ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤º
- [ ] ä¸‹æ›¸ãä¿å­˜ãƒ»å¾©å…ƒæ©Ÿèƒ½ãŒã‚ã‚‹
- [ ] ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½ãŒã‚ã‚‹
- [ ] ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œã—ã¦ã„ã‚‹
- [ ] ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´ã‚’ä¿æŒã—ã¦ã„ã‚‹
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³å¾©å…ƒæ©Ÿèƒ½ãŒã‚ã‚‹

### ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£

- [ ] ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã«å¯¾å¿œã—ã¦ã„ã‚‹
- [ ] ARIAå±æ€§ã‚’é©åˆ‡ã«ä½¿ç”¨ã—ã¦ã„ã‚‹
- [ ] ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œã—ã¦ã„ã‚‹
- [ ] ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”ãŒååˆ†ã§ã‚ã‚‹
- [ ] ãƒ•ã‚©ãƒ¼ã‚«ã‚¹è¡¨ç¤ºãŒæ˜ç¢ºã§ã‚ã‚‹

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

- [ ] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒéåº¦ã«å®Ÿè¡Œã•ã‚Œãªã„
- [ ] å¤§é‡ãƒ‡ãƒ¼ã‚¿ã§ã‚‚å¿«é©ã«å‹•ä½œã™ã‚‹
- [ ] è‡ªå‹•ä¿å­˜ã®é »åº¦ãŒé©åˆ‡ã§ã‚ã‚‹
- [ ] ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’æŠ‘åˆ¶ã—ã¦ã„ã‚‹

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“

- [ ] é€²æ—çŠ¶æ³ãŒåˆ†ã‹ã‚Šã‚„ã™ã„
- [ ] æ“ä½œçµæœã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒã‚ã‚‹
- [ ] ã‚¨ãƒ©ãƒ¼æ™‚ã®å¯¾å‡¦æ³•ãŒæ˜ç¢º
- [ ] ãƒ˜ãƒ«ãƒ—ãƒ»ã‚¬ã‚¤ãƒ‰ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹
- [ ] ãƒ¢ãƒã‚¤ãƒ«ã§ã‚‚ä½¿ã„ã‚„ã™ã„

---

## ã¾ã¨ã‚

### é‡è¦ãªè¨­è¨ˆåŸå‰‡

1. **ã‚¨ãƒ©ãƒ¼ã‚’èµ·ã“ã•ã›ãªã„**: é©åˆ‡ãªåˆ¶ç´„ã¨è£œåŠ©æ©Ÿèƒ½
2. **ã‚¨ãƒ©ãƒ¼ã‚’æ—©æœŸç™ºè¦‹**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
3. **ã‚¨ãƒ©ãƒ¼ã‹ã‚‰è¿…é€Ÿã«å›å¾©**: è‡ªå‹•ä¿å­˜ã¨Undoæ©Ÿèƒ½
4. **èªçŸ¥è² è·ã‚’æœ€å°åŒ–**: æƒ…å ±ã‚’è¨˜æ†¶ã•ã›ãªã„ã€æ®µéšçš„é–‹ç¤ºã€è¦–è¦šçš„æ‰‹ãŒã‹ã‚Š

### èª°ã‚‚ãŒä½¿ã„ã‚„ã™ã„UIã®è¦ç´ 

**é›†ä¸­åŠ›ã®ç¶­æŒ**
- ä¸€åº¦ã«1ã¤ã®ã‚¿ã‚¹ã‚¯ã«é›†ä¸­ã§ãã‚‹è¨­è¨ˆ
- è¦–è¦šçš„ãªæ‰‹ãŒã‹ã‚Šã§æ¬¡ã®è¡Œå‹•ãŒæ˜ç¢º
- é”æˆæ„Ÿã‚’ä¸ãˆã‚‹å°ã•ãªã‚´ãƒ¼ãƒ«è¨­å®š

**ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ¡ãƒ¢ãƒªãƒ¼ã¸ã®é…æ…®**
- æƒ…å ±ã‚’è¨˜æ†¶ã•ã›ãšã«è¦‹ã‚Œã°åˆ†ã‹ã‚‹UI
- ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæƒ…å ±ã®å¸¸æ™‚è¡¨ç¤º
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¨è‡ªå‹•å…¥åŠ›ã®æ´»ç”¨

**ä¸­æ–­ã«å¼·ã„è¨­è¨ˆ**
- é »ç¹ãªè‡ªå‹•ä¿å­˜
- å…¥åŠ›æ¸ˆã¿é …ç›®ã®ã‚µãƒãƒªãƒ¼è¡¨ç¤º
- ä½œæ¥­å†é–‹æ™‚ã®ã‚¹ãƒ ãƒ¼ã‚ºãªå¾©å¸°

### å®Ÿè£…ã®å„ªå…ˆé †ä½

**å¿…é ˆï¼ˆP0ï¼‰**
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- æ˜ç¢ºãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- å¿…é ˆé …ç›®ã®æ˜ç¤º
- åŸºæœ¬çš„ãªè‡ªå‹•ä¿å­˜

**æ¨å¥¨ï¼ˆP1ï¼‰**
- ã‚ªãƒ¼ãƒˆã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆ
- Undo/Redoæ©Ÿèƒ½
- ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- ä¸‹æ›¸ãä¿å­˜

**ã‚ã‚‹ã¨è‰¯ã„ï¼ˆP2ï¼‰**
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´
- ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ
- é«˜åº¦ãªã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼

### ç¶™ç¶šçš„æ”¹å–„

1. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®åé›†**
   - ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿç®‡æ‰€ã®åˆ†æ
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é›¢è„±ãƒã‚¤ãƒ³ãƒˆç‰¹å®š

2. **A/Bãƒ†ã‚¹ãƒˆ**
   - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®æœ€é©åŒ–
   - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ”¹å–„

3. **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ç›£æŸ»**
   - WCAGæº–æ‹ ã®ç¢ºèª
   - ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼ãƒ†ã‚¹ãƒˆ

---

## å‚è€ƒãƒªã‚½ãƒ¼ã‚¹

### ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
- Material Design: https://material.io/
- Ant Design: https://ant.design/
- Carbon Design System: https://carbondesignsystem.com/

### ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
- WCAG 2.1: https://www.w3.org/WAI/WCAG21/quickref/
- Nielsen Norman Group: https://www.nngroup.com/
- ãƒ‡ã‚¸ã‚¿ãƒ«åº ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### ãƒ„ãƒ¼ãƒ«
- React Hook Form: ãƒ•ã‚©ãƒ¼ãƒ ç®¡ç†
- Yup/Zod: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚­ãƒ¼ãƒ
- Formik: ãƒ•ã‚©ãƒ¼ãƒ ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- React Query: ãƒ‡ãƒ¼ã‚¿åŒæœŸ

---

**æœ€çµ‚æ›´æ–°**: 2025å¹´12æœˆ25æ—¥

{% endraw %}
